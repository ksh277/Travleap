// ğŸ¤– AI ìë™ ì¹´í…Œê³ ë¦¬ ë¶„ë¥˜ ì‹œìŠ¤í…œ í…ŒìŠ¤íŠ¸

// AI ì¹´í…Œê³ ë¦¬ ë¶„ë¥˜ í•¨ìˆ˜ (AdminPage.tsxì—ì„œ ë³µì‚¬)
function autoSuggestCategory(title, description = '') {
  const text = (title + ' ' + description).toLowerCase();

  // ì¹´í…Œê³ ë¦¬ë³„ í‚¤ì›Œë“œ ë§¤í•‘
  const categoryKeywords = {
    'ì—¬í–‰': ['ì—¬í–‰', 'íˆ¬ì–´', 'ê´€ê´‘', 'ì—¬í–‰ì§€', 'íŠ¸ë ˆí‚¹', 'ë‘˜ëŸ¬ë³´ê¸°', 'íƒë°©', 'íŒ¨í‚¤ì§€', 'ì¼ì •', 'ì½”ìŠ¤'],
    'ë ŒíŠ¸ì¹´': ['ë ŒíŠ¸', 'ë Œí„°ì¹´', 'ì°¨ëŸ‰', 'ìë™ì°¨', 'ìš´ì „', 'ë“œë¼ì´ë¸Œ', 'ë Œíƒˆ', 'ì°¨ëŸ‰ëŒ€ì—¬', 'ìŠ¹ìš©ì°¨', 'ë²„ìŠ¤'],
    'ìˆ™ë°•': ['ìˆ™ë°•', 'í˜¸í…”', 'íœì…˜', 'ë¦¬ì¡°íŠ¸', 'ë¯¼ë°•', 'ê²ŒìŠ¤íŠ¸í•˜ìš°ìŠ¤', 'ì¹´ë¼ë°˜', 'ê¸€ë¨í•‘', 'ìº í•‘', 'ë¨¸ë¬¼ê¸°', 'ì ìë¦¬', 'ê°ì‹¤'],
    'ìŒì‹': ['ìŒì‹', 'ë§›ì§‘', 'ë ˆìŠ¤í† ë‘', 'ì¹´í˜', 'ì‹ë‹¹', 'ìš”ë¦¬', 'ë¨¹ê±°ë¦¬', 'ë””ì €íŠ¸', 'ìŒë£Œ', 'íŠ¹ì‚°ë¬¼', 'ì “ê°ˆ', 'í•´ì‚°ë¬¼', 'ì „í†µìŒì‹'],
    'ê´€ê´‘ì§€': ['ê´€ê´‘ì§€', 'ëª…ì†Œ', 'ìœ ì ', 'ë°•ë¬¼ê´€', 'ì „ì‹œê´€', 'í•´ìˆ˜ìš•ì¥', 'í•´ë³€', 'ì„¬', 'ì‚°', 'ê³µì›', 'ë‹¤ë¦¬', 'ì „ë§ëŒ€', 'í’ê²½'],
    'íŒì—…': ['íŒì—…', 'ì „ì‹œ', 'ì²´í—˜ê´€', 'ì„ì‹œ', 'í•œì •', 'ê¸°ê°„í•œì •', 'íŠ¹ë³„ì „', 'ì´ë²¤íŠ¸ì „', 'ì „ì‹œíšŒ'],
    'í–‰ì‚¬': ['í–‰ì‚¬', 'ì¶•ì œ', 'ì´ë²¤íŠ¸', 'ì½˜ì„œíŠ¸', 'ê³µì—°', 'ì¶•ì œ', 'í–‰ì‚¬', 'ì¶•í•˜', 'ê¸°ë…ì¼', 'ê°œìµœ', 'ì—´ë¦¬ëŠ”'],
    'ì²´í—˜': ['ì²´í—˜', 'ë§Œë“¤ê¸°', 'ë°°ìš°ê¸°', 'ì‹¤ìŠµ', 'ì›Œí¬ìƒµ', 'í´ë˜ìŠ¤', 'ìˆ˜ì—…', 'í”„ë¡œê·¸ë¨', 'í™œë™', 'ì°¸ì—¬', 'ì§ì ‘']
  };

  // ê° ì¹´í…Œê³ ë¦¬ë³„ ì ìˆ˜ ê³„ì‚°
  const scores = Object.entries(categoryKeywords).map(([category, keywords]) => {
    const score = keywords.reduce((acc, keyword) => {
      const matches = (text.match(new RegExp(keyword, 'g')) || []).length;
      return acc + matches;
    }, 0);
    return { category, score };
  });

  // ê°€ì¥ ë†’ì€ ì ìˆ˜ì˜ ì¹´í…Œê³ ë¦¬ ë°˜í™˜
  const bestMatch = scores.reduce((max, current) =>
    current.score > max.score ? current : max
  );

  console.log('ğŸ¯ ìŠ¤ë§ˆíŠ¸ ì¹´í…Œê³ ë¦¬ ë¶„ì„:', {
    input: text.substring(0, 50) + '...',
    scores: scores.filter(s => s.score > 0),
    suggested: bestMatch.score > 0 ? bestMatch.category : 'ì—¬í–‰'
  });

  return bestMatch.score > 0 ? bestMatch.category : 'ì—¬í–‰'; // ê¸°ë³¸ê°’ì€ 'ì—¬í–‰'
}

// í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë“¤
const testCases = [
  {
    title: "ì‹ ì•ˆ ì¦ë„ ì—¼ì „ íˆ¬ì–´ íŒ¨í‚¤ì§€",
    description: "ì‹ ì•ˆêµ° ì¦ë„ë©´ì˜ ì•„ë¦„ë‹¤ìš´ ì—¼ì „ì„ ë‘˜ëŸ¬ë³´ëŠ” ê´€ê´‘ ì½”ìŠ¤ì…ë‹ˆë‹¤.",
    expected: "ì—¬í–‰"
  },
  {
    title: "ì¦ë„ íœì…˜ ë°”ë‹¤ë·° ê°ì‹¤",
    description: "ë°”ë‹¤ê°€ ë³´ì´ëŠ” íœì…˜ì—ì„œ í¸ì•ˆí•œ ìˆ™ë°•ì„ ì¦ê¸°ì„¸ìš”. ê¸€ë¨í•‘ë„ ê°€ëŠ¥í•©ë‹ˆë‹¤.",
    expected: "ìˆ™ë°•"
  },
  {
    title: "ì‹ ì•ˆ ì “ê°ˆ ë§›ì§‘ íˆ¬ì–´",
    description: "ì‹ ì•ˆ íŠ¹ì‚°ë¬¼ì¸ ì “ê°ˆê³¼ í•´ì‚°ë¬¼ ìš”ë¦¬ë¥¼ ë§›ë³¼ ìˆ˜ ìˆëŠ” ë ˆìŠ¤í† ë‘ì…ë‹ˆë‹¤.",
    expected: "ìŒì‹"
  },
  {
    title: "ë Œí„°ì¹´ ëŒ€ì—¬ ì„œë¹„ìŠ¤",
    description: "ì‹ ì•ˆ ì—¬í–‰ì„ ìœ„í•œ ì°¨ëŸ‰ ëŒ€ì—¬ ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤. ìŠ¹ìš©ì°¨ì™€ ë²„ìŠ¤ ëª¨ë‘ ì´ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤.",
    expected: "ë ŒíŠ¸ì¹´"
  },
  {
    title: "ì¦ë„ ìœ ë¦¬ì„¬ ë°•ë¬¼ê´€",
    description: "ì¦ë„ì˜ ìœ ëª…í•œ ê´€ê´‘ì§€ì¸ ìœ ë¦¬ì„¬ ë°•ë¬¼ê´€ì„ ë°©ë¬¸í•´ë³´ì„¸ìš”.",
    expected: "ê´€ê´‘ì§€"
  },
  {
    title: "ì‹ ì•ˆ ì†Œê¸ˆ ë§Œë“¤ê¸° ì²´í—˜",
    description: "ì „í†µ ë°©ì‹ìœ¼ë¡œ ì†Œê¸ˆì„ ì§ì ‘ ë§Œë“¤ì–´ë³´ëŠ” ì²´í—˜ í”„ë¡œê·¸ë¨ì…ë‹ˆë‹¤.",
    expected: "ì²´í—˜"
  },
  {
    title: "ì‹ ì•ˆ ê°¯ë²Œ ì¶•ì œ",
    description: "ë§¤ë…„ ì—´ë¦¬ëŠ” ì‹ ì•ˆ ê°¯ë²Œ ì¶•ì œì— ì°¸ì—¬í•˜ì„¸ìš”. ë‹¤ì–‘í•œ ì´ë²¤íŠ¸ì™€ ê³µì—°ì´ ìˆìŠµë‹ˆë‹¤.",
    expected: "í–‰ì‚¬"
  },
  {
    title: "í•œì •íŒ ì‹ ì•ˆ íŠ¹ì‚°í’ˆ ì „ì‹œ",
    description: "ê¸°ê°„í•œì •ìœ¼ë¡œ ì—´ë¦¬ëŠ” ì‹ ì•ˆ íŠ¹ì‚°í’ˆ íŒì—… ì „ì‹œíšŒì…ë‹ˆë‹¤.",
    expected: "íŒì—…"
  }
];

// í…ŒìŠ¤íŠ¸ ì‹¤í–‰
console.log('ğŸ§ª AI ìë™ ì¹´í…Œê³ ë¦¬ ë¶„ë¥˜ ì‹œìŠ¤í…œ í…ŒìŠ¤íŠ¸ ì‹œì‘\n');

let passedTests = 0;
let totalTests = testCases.length;

testCases.forEach((testCase, index) => {
  console.log(`\nğŸ“ í…ŒìŠ¤íŠ¸ ${index + 1}: "${testCase.title}"`);
  console.log(`ğŸ“„ ì„¤ëª…: "${testCase.description}"`);
  console.log(`ğŸ¯ ì˜ˆìƒ ì¹´í…Œê³ ë¦¬: ${testCase.expected}`);

  const result = autoSuggestCategory(testCase.title, testCase.description);

  console.log(`ğŸ¤– AI ì¶”ì²œ ì¹´í…Œê³ ë¦¬: ${result}`);

  if (result === testCase.expected) {
    console.log('âœ… í…ŒìŠ¤íŠ¸ í†µê³¼!');
    passedTests++;
  } else {
    console.log('âŒ í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨');
  }

  console.log('---');
});

console.log(`\nğŸ‰ AI ì¹´í…Œê³ ë¦¬ ë¶„ë¥˜ í…ŒìŠ¤íŠ¸ ê²°ê³¼: ${passedTests}/${totalTests} í†µê³¼ (${Math.round((passedTests/totalTests)*100)}%)`);

if (passedTests === totalTests) {
  console.log('ğŸš€ ëª¨ë“  í…ŒìŠ¤íŠ¸ í†µê³¼! AI ìë™ ì¹´í…Œê³ ë¦¬ ë¶„ë¥˜ ì‹œìŠ¤í…œì´ ì™„ë²½í•˜ê²Œ ì‘ë™í•©ë‹ˆë‹¤.');
} else {
  console.log('âš ï¸ ì¼ë¶€ í…ŒìŠ¤íŠ¸ê°€ ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. í‚¤ì›Œë“œ ë§¤í•‘ì„ ì¡°ì •ì´ í•„ìš”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.');
}